# –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

## –ó–∞–ø—É—Å–∫ minikube

[–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ](https://minikube.sigs.k8s.io/docs/start/)

```bash
minikube start
```


## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ GitHub

[–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞](https://github.com/settings/tokens/new)

```bash
kubectl create secret docker-registry ghcr --docker-server=https://ghcr.io --docker-username=<github_username> --docker-password=<github_token> -n default
```


## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ API GW kusk

[Install Kusk CLI](https://docs.kusk.io/getting-started/install-kusk-cli)

```bash
kusk cluster install
```


## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ terraform

[–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Terraform](https://yandex.cloud/ru/docs/tutorials/infrastructure-management/terraform-quickstart#install-terraform)


–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª ~/.terraformrc

```hcl
provider_installation {
  network_mirror {
    url = "https://terraform-mirror.yandexcloud.net/"
    include = ["registry.terraform.io/*/*"]
  }
  direct {
    exclude = ["registry.terraform.io/*/*"]
  }
}
```

## –ü—Ä–∏–º–µ–Ω—è–µ–º terraform –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
cd terraform
terraform apply
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API GW

```bash
kusk deploy -i api.yaml
```

## –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

```bash
kubectl port-forward svc/kusk-gateway-envoy-fleet -n kusk-system 8080:80
curl localhost:8080/hello
```


## Delete minikube

```bash
minikube delete
```

----

# –ó–∞–¥–∞–Ω–∏–µ 1.1

## –¢–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ ID
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ ID
- –í–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ ID
- –í—ã–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ ID
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –¥–ª—è –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ ID (–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥–∞—Ç—á–∏–∫–æ–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã)
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã –ø–æ –µ–µ ID

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

[C4 —Å—Ö–µ–º–∞](./task_1.1.puml)

–Ø–∑—ã–∫: Java
–°–£–ë–î: Postgresql

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–æ–ª–∏—Ç–Ω–∞—è, —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —Å–µ—Ä–≤–∏—Å. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ.
–ó–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.
–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤—Å—é —Å–∏—Å—Ç–µ–º—É —Ü–µ–ª–∏–∫–æ–º.

–°—É–¥—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∫ –∫–æ–Ω–µ—á–Ω–æ–º—É –ø—Ä–æ–¥—É–∫—Ç—É, –∫–æ–º–∞–Ω–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–¥–µ—Ç—Å—è —Ä–∞—à–∏—Ä—è—Ç—å. –ü—Ä–µ–¥–ª–æ–≥–∞–µ—Ç—Å—è —á–∞—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ legacy –Ω–∞ –≤—Ä–µ–º—è –ø–µ—Ä–µ–µ–∑–¥–∞ –Ω–∞ —Å–µ—Ä–≤–∏—Å—ã.
–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏–¥–µ—Ç—Å—è –Ω–∞–Ω–∏–º–∞—Ç—å –ª—é–¥–µ–π, –ø–æ—á–µ–º—É –±—ã –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –ø–µ—Ä–µ–µ—Ö–∞—Ç—å –Ω–∞ –≥–æ? üòÄ

## –î–æ–º–µ–Ω—ã

### Smart Home

–ö–æ–Ω—Ç–µ–∫—Å—Ç—ã:
- **Heateheating control** - —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π –¥–æ–º–∞, –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Temperature monitoring** - –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –æ—Ç –¥–∞—Ç—á–∏–∫–æ–≤

# –ó–∞–¥–∞–Ω–∏–µ 1.2

–°—Ö–µ–º—ã:
- [–°—Ö–µ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤](./task_1.2_containers.puml)
- [–°—Ö–µ–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–∑–±–æ—Ä–∞–¥–∞–Ω–Ω—ã–µ—Ö —Å–µ–Ω—Å–æ—Ä–∞](./task_1.2_components.puml)
- [–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –¥–∞—Ç—á–∏–∫–æ–≤](./task_1.2_seq_sensor_write.puml)

## –ó–∞–¥–∞–Ω–∏–µ 1.3

- [–°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü](./task_1.3_er.puml)

## –ó–∞–¥–∞–Ω–∏–µ 1.4

- [swagger –æ–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏](./task_1.4_command_swagger.yaml)